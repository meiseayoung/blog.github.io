<!doctype html>
<html>
<head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
    <title>domManip</title>
</head>
<body>

测试创建效率
<button id="Button1" type="button" value="button" onclick = "a1()"/>普通方式创建</button>
<button id="Button2" type="button" value="button"  onclick = "a2()"/>文档碎片创建</button>
<div id="test"></div>

<div id="test"></div>

<script type="text/javascript">


    function a1() {
        var time1 =( +new Date());
        for (var i = 0; i < 5000; i++) {
            var op = document.createElement("span");
            var oText = document.createTextNode(i);
            op.appendChild(oText);
            document.body.appendChild(op);
        }
        document.getElementById('test').innerHTML = '<br><div>普通方式创建耗时'+ ( +new Date() - time1);
    }

    function a2() {
        var oFragmeng = document.createDocumentFragment(); //创建文档碎片
        var time2 =( +new Date());
        for (var i = 0; i < 5000; i++) {
            var op = document.createElement("span");
            var oText = document.createTextNode(i);
            op.appendChild(oText);
            oFragmeng.appendChild(op);
        }
        document.body.appendChild(oFragmeng); //最后一次性添加到document中
        document.getElementById('test').innerHTML = '<br><div>文档碎片创建耗时'+ ( +new Date() - time2);
    }


</script>
</body>
</html>